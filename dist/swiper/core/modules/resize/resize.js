import{getWindow}from"ssr-window";export default function Resize({swiper:e,on:i,emit:t}){const n=getWindow();let r=null;const o=()=>{e&&!e.destroyed&&e.initialized&&(t("beforeResize"),t("resize"))},s=()=>{e&&!e.destroyed&&e.initialized&&t("orientationchange")};i("init",(()=>{e.params.resizeObserver&&void 0!==n.ResizeObserver?e&&!e.destroyed&&e.initialized&&(r=new ResizeObserver((i=>{const{width:t,height:n}=e;let r=t,s=n;i.forEach((({contentBoxSize:i,contentRect:t,target:n})=>{n&&n!==e.el||(r=t?t.width:(i[0]||i).inlineSize,s=t?t.height:(i[0]||i).blockSize)})),r===t&&s===n||o()})),r.observe(e.el)):(n.addEventListener("resize",o),n.addEventListener("orientationchange",s))})),i("destroy",(()=>{r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",s)}))}