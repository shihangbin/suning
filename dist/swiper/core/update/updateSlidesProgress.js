import $ from"../../shared/dom.js";export default function updateSlidesProgress(e=this&&this.translate||0){const s=this,i=s.params,{slides:l,rtlTranslate:d,snapGrid:t}=s;if(0===l.length)return;void 0===l[0].swiperSlideOffset&&s.updateSlidesOffset();let r=-e;d&&(r=e),l.removeClass(i.slideVisibleClass),s.visibleSlidesIndexes=[],s.visibleSlides=[];for(let e=0;e<l.length;e+=1){const a=l[e];let n=a.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(n-=l[0].swiperSlideOffset);const S=(r+(i.centeredSlides?s.minTranslate():0)-n)/(a.swiperSlideSize+i.spaceBetween),o=(r-t[0]+(i.centeredSlides?s.minTranslate():0)-n)/(a.swiperSlideSize+i.spaceBetween),p=-(r-n),f=p+s.slidesSizesGrid[e];(p>=0&&p<s.size-1||f>1&&f<=s.size||p<=0&&f>=s.size)&&(s.visibleSlides.push(a),s.visibleSlidesIndexes.push(e),l.eq(e).addClass(i.slideVisibleClass)),a.progress=d?-S:S,a.originalProgress=d?-o:o}s.visibleSlides=$(s.visibleSlides)}