import{extend}from"../../shared/utils.js";const isGridEnabled=(e,i)=>e.grid&&i.grid&&i.grid.rows>1;export default function setBreakpoint(){const e=this,{activeIndex:i,initialized:r,loopedSlides:a=0,params:o,$el:l}=e,s=o.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const n=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!n||e.currentBreakpoint===n)return;const t=(n in s?s[n]:void 0)||e.originalParams,d=isGridEnabled(e,o),c=isGridEnabled(e,t),p=o.enabled;d&&!c?(l.removeClass(`${o.containerModifierClass}grid ${o.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&c&&(l.addClass(`${o.containerModifierClass}grid`),(t.grid.fill&&"column"===t.grid.fill||!t.grid.fill&&"column"===o.grid.fill)&&l.addClass(`${o.containerModifierClass}grid-column`),e.emitContainerClasses());const m=t.direction&&t.direction!==o.direction,g=o.loop&&(t.slidesPerView!==o.slidesPerView||m);m&&r&&e.changeDirection(),extend(e.params,t);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!f?e.disable():!p&&f&&e.enable(),e.currentBreakpoint=n,e.emit("_beforeBreakpoint",t),g&&r&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(i-a+e.loopedSlides,0,!1)),e.emit("breakpoint",t)}