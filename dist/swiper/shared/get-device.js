import{getWindow}from"ssr-window";import{getSupport}from"./get-support.js";let deviceCached;function calcDevice({userAgent:e}={}){const t=getSupport(),i=getWindow(),o=i.navigator.platform,c=e||i.navigator.userAgent,d={ios:!1,android:!1},n=i.screen.width,r=i.screen.height,a=c.match(/(Android);?[\s\/]+([\d.]+)?/);let s=c.match(/(iPad).*OS\s([\d_]+)/);const x=c.match(/(iPod)(.*OS\s([\d_]+))?/),h=!s&&c.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g="Win32"===o;let m="MacIntel"===o;return!s&&m&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${n}x${r}`)>=0&&(s=c.match(/(Version)\/([\d.]+)/),s||(s=[0,1,"13_0_0"]),m=!1),a&&!g&&(d.os="android",d.android=!0),(s||h||x)&&(d.os="ios",d.ios=!0),d}function getDevice(e={}){return deviceCached||(deviceCached=calcDevice(e)),deviceCached}export{getDevice};